<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">(function(angular) {
    &#39;use strict&#39;;

    angular
        .module(&#39;nc.loading&#39;, [])
        .directive(&#39;ncLoading&#39;, ncLoading);

<span id='ncLoading'>    /**
</span>     * 
     * @class ncLoading
     *    
     * 
     * ## 使用说明
     * 暂时有10个模板，从1-10编号，载入nc-widgets.min.css文件，引用js脚本，注入模块`nc.Loading`。
     *      
     *      &lt;div nc-loading=&quot;vm.loading&quot; &gt;&lt;div&gt;被包裹的内容&lt;/div&gt;&lt;/div&gt;
     * 
     * 运行gulp可进行demo查看。 
     *  
     * 
     */
    ncLoading.$inject = [];

    /* @ngInject */
    function ncLoading() {

        var ncLoading = {

            link: link,
            restrict: &#39;A&#39;,
            transclude: true,
            template: &#39;&lt;div style=&quot;position:relative;&quot;&gt;&lt;div ng-transclude&gt;&lt;/div&gt;&lt;div class=&quot;nc-loading&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
            scope: {
<span id='ncLoading-property-ncLoading'>                /**
</span>                 * 设置Loading状态，true显示，false隐藏
                 * @property {Boolean}   
                 *    
                 * 
                 */
                ncLoading: &#39;=&#39;,
<span id='ncLoading-property-ncLoadingOptions'>                /**
</span>                 * 参数设置接口，设置参数参见config属性
                 * @property {Object}  
                 *   
                 * 
                 */
                ncLoadingOptions: &#39;=?&#39;
            }
        };
        return ncLoading;

        function link(scope, element, attrs) {

            var options = angular.extend({
<span id='ncLoading-cfg-template'>                /**
</span>                 * 
                 * @cfg 选择显示的模板
                 *    
                 *
                 */
                template: 9,
<span id='ncLoading-cfg-bgColor'>                /**
</span>                 * 
                 * @cfg 设置遮罩的背景颜色
                 *    
                 *
                 */
                bgColor: &#39;rgba(216, 215, 213, .85)&#39;
            }, scope.ncLoadingOptions);

            var loading = element.find(&#39;.nc-loading&#39;);

            loading.css(&#39;background-color&#39;, options.bgColor);
            console.info(options.template);
            loading.append(loadingTemplates[options.template]);

            scope.$watch(&#39;ncLoading&#39;, function(newVal, oldVal) {
                if (newVal != oldVal) {
                    if (newVal) {
                        console.info(newVal);
                        loading.show();
                    } else {
                        loading.hide();
                    }
                }
            });

        }
    }

    var loadingTemplates = {
        1: &#39; &lt;div class=&quot;nc-loading-type nc-loading-type-1 &quot;&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        2: &#39; &lt;div class=&quot;nc-loading-type nc-loading-type-2 &quot;&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        3: &#39; &lt;div class=&quot;nc-loading-type nc-loading-type-3 &quot;&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt;  &lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        4: &#39; &lt;div class=&quot;nc-loading-type nc-loading-type-4 &quot;&gt; &lt;div class=&quot;nc-loading-ring-1&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        5: &#39; &lt;div class=&quot;nc-loading-type nc-loading-type-5 &quot;&gt; &lt;div class=&quot;nc-loading-ring-2&quot;&gt;&lt;div class=&quot;nc-loading-ball-holder&quot;&gt;&lt;div class=&quot;nc-loading-ball&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        6: &#39; &lt;div class=&quot;nc-loading-type nc-loading-type-6 &quot;&gt;&lt;div class=&quot;nc-loading-letter-holder&quot;&gt;&lt;div class=&quot;nc-loading-delay-1 nc-loading-letter&quot;&gt;L&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-2 nc-loading-letter&quot;&gt;o&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-3 nc-loading-letter&quot;&gt;a&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-4 nc-loading-letter&quot;&gt;d&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-5 nc-loading-letter&quot;&gt;i&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-6 nc-loading-letter&quot;&gt;n&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-7 nc-loading-letter&quot;&gt;g&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-8 nc-loading-letter&quot;&gt;.&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-9 nc-loading-letter&quot;&gt;.&lt;/div&gt;&lt;div class=&quot;nc-loading-delay-10 nc-loading-letter&quot;&gt;.&lt;/div&gt;&lt;/div&gt;&#39;,
        7: &#39;&lt;div class=&quot;nc-loading-type nc-loading-type-7&quot;&gt;&lt;div class=&quot;nc-loading-square-holder&quot;&gt;&lt;div class=&quot;nc-loading-square&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        8: &#39;&lt;div class=&quot;nc-loading-type nc-loading-type-8&quot;&gt;&lt;div class=&quot;nc-loading-line&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        9: &#39;&lt;div class=&quot;nc-loading-type nc-loading-type-9&quot;&gt; &lt;div class=&quot;nc-loading-spinner&quot;&gt;&lt;div class=&quot;nc-loading-bubble-1&quot;&gt;&lt;/div&gt;&lt;div class=&quot;nc-loading-bubble-2&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&#39;,
        10: &#39;&lt;div class=&quot;nc-loading-type nc-loading-type-10&quot;&gt;&lt;div class=&quot;nc-loading-bar&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#39;
    }

})(window.angular);
</pre>
</body>
</html>
